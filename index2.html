You have to read my whole code thoroughly because now the new code you sent made the game doesnt work
 

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Level 2 â€” Swedistan Letter</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root {
      --bg: #0b0f14;
      --panel: #0f1720;
      --accent: #ff6f91;
      --muted: #94a3b8;
      --glass: rgba(255,255,255,0.03);
    }
    * { box-sizing: border-box; }
    html,body { height:100%; margin:0; font-family: Inter, system-ui, Arial; background:var(--bg); color:#e6eef8; }
    .container { display:flex; height:100vh; gap:18px; padding:18px; }
    /* left reference column */
    .left {
      width:300px; min-width:220px; background:var(--panel); border-radius:12px; padding:12px; box-shadow:0 6px 20px rgba(0,0,0,0.6);
      display:flex; flex-direction:column; gap:10px; align-items:stretch;
    }
    .left h2 { margin:6px 0; font-size:18px; color:var(--accent); text-align:center; }
    .ref-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; overflow:auto; padding:6px; }
    .ref-item { text-align:center; font-size:12px; color:var(--muted); padding:6px; border-radius:8px; background:var(--glass); }
    .ref-item img { width:52px; height:52px; object-fit:contain; display:block; margin:0 auto 6px; }

    /* right main area */
    .right {
      flex:1; background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius:12px; padding:18px; display:flex; flex-direction:column; gap:12px;
    }

    .top-bar { display:flex; justify-content:space-between; align-items:center; gap:12px; }
    .title { font-size:20px; color:var(--accent); margin:0; }
    .hud { display:flex; gap:12px; align-items:center; color:var(--muted); font-size:14px; }

    .main-game { flex:1; display:flex; gap:16px; align-items:flex-start; }
    .word-panel { flex:1; background:var(--panel); padding:12px; border-radius:10px; min-height:360px; display:flex; flex-direction:column; gap:12px; }
    .preview-row { display:flex; flex-wrap:wrap; gap:8px; align-items:center; justify-content:flex-start; }
    .preview-row img { width:56px; height:56px; object-fit:contain; border-radius:8px; background:rgba(255,255,255,0.02); padding:4px; }

    .inputs-row { display:flex; gap:8px; flex-wrap:wrap; }
    .guess-input { width:56px; height:56px; font-size:20px; text-align:center; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:#fff; }

    .controls { display:flex; gap:8px; align-items:center; }
    .btn { padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:600; background:var(--accent); color:#fff; }
    .btn.ghost { background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted); }

    .feedback { min-height:22px; color:var(--muted); font-size:14px; }
    .footer { display:flex; justify-content:space-between; align-items:center; color:var(--muted); font-size:13px; }

    /* responsive */
    @media (max-width:900px) {
      .container { flex-direction:column; padding:12px; }
      .left { width:100%; min-width:unset; order:2; display:flex; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="left">
      <h2>Swedistan Letter(A â†’ Z)</h2>
      <div id="reference-grid" class="ref-grid"></div>
      <div style="margin-top:auto; font-size:12px; color:var(--muted); text-align:center;">
        Folder: <strong>"Swedistan Letters"</strong><br/>Files: <strong>Letter 1.png</strong> .. <strong>Letter 26.png</strong>
      </div>
    </div>

    <div class="right">
      <div class="top-bar">
        <h1 class="title">Decode the Swedistan word</h1>
        <div class="hud">
          <div id="progress">Solved: 0 / 9</div>
          <div id="timer">Time Left: â€”</div>
        </div>
      </div>

      <div class="main-game">
        <div class="word-panel">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-size:14px;color:var(--muted)">Current word (alien glyphs)</div>
            <div style="font-size:13px;color:var(--muted)">(Use letters below to help)</div>
          </div>

          <div id="alien-pngs" class="preview-row" aria-live="polite"></div>
          <div id="input-boxes" class="inputs-row"></div>

          <div class="controls">
            <button id="submit-button" class="btn">Submit Guess</button>
            <button id="skip-button" class="btn ghost">Skip (penalty)</button>
            <div class="feedback" id="feedback"></div>
          </div>
        </div>
      </div>

      <div class="footer">
        <div style="font-size:13px">Turns: randomized on fail â€¢ Fail â†’ -1 progress</div>
        <div style="font-size:13px;color:var(--muted)">Tip: fill inputs then press Enter or Submit</div>
      </div>
    </div>
  </div>
<script>
/* ======================================================
   JOURNEY SYSTEM
====================================================== */

function getJourney(){
  return JSON.parse(localStorage.getItem("journey"));
}
function saveJourney(j){
  localStorage.setItem("journey", JSON.stringify(j));
}

let journey = getJourney();

if(!journey || !journey.path){
  window.location.href="index.html";
}

if(!journey.order.includes("index2")){
  journey.order.push("index2");
  saveJourney(journey);
}


/* ======================================================
   WORDS (ALL APA FOR TESTING)
====================================================== */

const WORDS = [

  // Path A (first 9)
  "apakabar",
  "anjing",
  "kakdela",
  "blyat",
  "gay",
  "bimbogirl",
  "iamcactus",
  "ilovemoney",
  "heydo",

  // Path B (next 9)
  "flower",
  "pineapple",
  "red",
  "sukablyat",
  "kneegrow",
  "ilovejuice",
  "birthday",
  "yalublyutebya",
  "yavporyadke"
];


let wordsToFill;

if(journey.path === "A"){
  wordsToFill = WORDS.slice(0,9);
}else{
  wordsToFill = WORDS.slice(9,18);
}


/* ======================================================
   SETTINGS (YOUR ORIGINAL RULES)
====================================================== */

const REQUIRED_SOLVES = 9;
const WORD_TIME_MAX = 1140; // 19 minutes
const WORD_TIME_MIN = 19;   // 19 seconds

const ALIEN_FOLDER = 'alien letters';
const LETTER_PREFIX = 'Letter ';
const LETTER_EXT = '.png';
const LETTER_COUNT = 26;
const LETTERS = 'abcdefghijklmnopqrstuvwxyz';


/* ======================================================
   DOM
====================================================== */

const referenceGrid = document.getElementById('reference-grid');
const alienPngs = document.getElementById('alien-pngs');
const inputBoxes = document.getElementById('input-boxes');
const timerEl = document.getElementById('timer');
const feedback = document.getElementById('feedback');
const submitButton = document.getElementById('submit-button');
const skipButton = document.getElementById('skip-button');
const progressEl = document.getElementById('progress');

const letterSrcs = Array.from({length: LETTER_COUNT}, (_, i) =>
  `${ALIEN_FOLDER}/${LETTER_PREFIX}${i+1}${LETTER_EXT}`
);


/* ======================================================
   STATE
====================================================== */

let solves = 0;
let currentWord = '';
let currentTimer = null;
let timeLeft = 0;
let roundActive = false;


/* ======================================================
   REFERENCE GRID
====================================================== */

function buildReferenceGrid(){
  referenceGrid.innerHTML='';
  for(let i=0;i<LETTER_COUNT;i++){
    const d=document.createElement('div');
    d.className='ref-item';
    d.innerHTML=`<img src="${letterSrcs[i]}"><div>${LETTERS[i].toUpperCase()}</div>`;
    referenceGrid.appendChild(d);
  }
}


/* ======================================================
   TIMER (19min â†’ 19s scaling)
====================================================== */

function secondsForProgress(i){
  const t = i/(REQUIRED_SOLVES-1);
  return Math.round(WORD_TIME_MAX + (WORD_TIME_MIN - WORD_TIME_MAX)*t);
}

function startTimer(sec){
  clearInterval(currentTimer);
  timeLeft = sec;

  updateTimer();

  currentTimer = setInterval(()=>{
    timeLeft--;
    updateTimer();

    if(timeLeft <= 0){
      clearInterval(currentTimer);
      failRound();
    }
  },1000);
}

function updateTimer(){
  const m = Math.floor(timeLeft/60);
  const s = timeLeft%60;
  timerEl.textContent = `Time Left: ${m}:${String(s).padStart(2,'0')}`;
}


/* ======================================================
   RENDER WORD + KEYBOARD LOGIC
====================================================== */

function renderWord(word){

  alienPngs.innerHTML='';
  inputBoxes.innerHTML='';

  const boxes=[];

  for(const ch of word){

    const idx = LETTERS.indexOf(ch);

    const img=document.createElement('img');
    img.src=letterSrcs[idx];
    alienPngs.appendChild(img);

    const input=document.createElement('input');
    input.className='guess-input';
    input.maxLength=1;

    inputBoxes.appendChild(input);
    boxes.push(input);
  }

  boxes.forEach((box,i)=>{

    box.addEventListener('input',()=>{
      if(box.value) boxes[i+1]?.focus();
    });

    box.addEventListener('keydown',(e)=>{

      if(e.key==='ArrowRight') boxes[i+1]?.focus();
      if(e.key==='ArrowLeft') boxes[i-1]?.focus();

      if(e.key==='Backspace' && !box.value){
        boxes[i-1]?.focus();
      }

      if(e.key==='Enter'){
        e.preventDefault();  // ðŸ”¥ FIX reset bug
        submit();
      }
    });
  });

  boxes[0].focus();
}


/* ======================================================
   ROUND CONTROL
====================================================== */

function startRound(){
  roundActive=true;
  feedback.textContent='';

  currentWord = wordsToFill[Math.floor(Math.random()*wordsToFill.length)];

  renderWord(currentWord);
  startTimer(secondsForProgress(solves));
  updateProgress();
}

function updateProgress(){
  progressEl.textContent=`Solved: ${solves} / ${REQUIRED_SOLVES}`;
}

function submit(){
  if(!roundActive) return;

  const guess=[...inputBoxes.querySelectorAll('input')]
    .map(i=>i.value.toLowerCase())
    .join('');

  if(guess===currentWord){
    solves++;
    clearInterval(currentTimer);

    if(solves>=REQUIRED_SOLVES){
      finishLevel();
    }else{
      startRound();
    }
  }else{
    failRound();
  }
}

function failRound(){
  solves=Math.max(0,solves-1);
  feedback.textContent='Wrong â€” progress -1';
  updateProgress();
  setTimeout(startRound,700);
}


/* ======================================================
   NEXT LEVEL
====================================================== */

function finishLevel(){
  if(!journey.order.includes("index1")){
    window.location.href="index1.html";
  }
  else if(!journey.order.includes("index4")){
    window.location.href="index4.html";
  }
  else{
    window.location.href="index5.html";
  }
}


/* ======================================================
   EVENTS
====================================================== */

submitButton.type="button"; // ðŸ”¥ prevent form behavior
submitButton.onclick=submit;
skipButton.onclick=failRound;


/* ======================================================
   INIT
====================================================== */

buildReferenceGrid();
startRound();
</script>

</body>
</html>

